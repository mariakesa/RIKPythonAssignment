{% extends "base.html" %}

{% block main %}
<div class="container">
    <h2>Osa√ºhingu asutamine</h2>
    <form action="/osauhingu_asutamine" method="POST">
        {{osauhingu_asutamise_vorm.csrf_token}}
        <div class="container">
            <div class="form-group">
                {{osauhingu_asutamise_vorm.osauhingu_nimi.label}}
                {{osauhingu_asutamise_vorm.osauhingu_nimi}}
            </div>
            <div class="form-group">
                {{osauhingu_asutamise_vorm.registrikood.label}}
                {{osauhingu_asutamise_vorm.registrikood}}
            </div>
            <div class="form-group">
                {{osauhingu_asutamise_vorm.asutamise_kuupaev.label}}
                {{osauhingu_asutamise_vorm.asutamise_kuupaev}}
            </div>
            <button type="button" id="lisa-fuus-button" onclick="addFuusAsutajaBox()">+</button>
            <button id="eemalda-fuus-button">-</button>
            <div id="fuus-asutajad">
                <div class="fuus-asutaja-box">
                    {% for field in osauhingu_asutamise_vorm.fuus_is_asutajad %}
                        <div class="form-group">
                            {{field.fuus_is_asutaja.label}}
                        </div>
                        <div class="form-group">
                            {{field.fuus_is_asutaja}}
                        </div>
                        <div class="form-group">
                            {{field.fuus_is_asutaja_ik.label}}
                        </div>
                        <div class="form-group">
                            {{field.fuus_is_asutaja_ik}}
                        </div> 
                    {% endfor %}
                </div>  
            </div>
            <div class="form-group">
                {{osauhingu_asutamise_vorm.asuta}}
            </div>
        </div>
    </form>
</div>
<div class="container" id="edu_sonum">
    {% if edu_sonum != None%}
        {{edu_sonum}}
    {% endif %}
</div>

<script>
    function addFuusAsutajaBox() {
        // create new div element with fuus-asutaja-box class
        var newBox = document.createElement("div");
        newBox.classList.add("fuus-asutaja-box");
        console.log(newBox);
        // clone children of existing fuus-asutaja-box div
        var existingBox = document.querySelector(".fuus-asutaja-box");
        console.log(existingBox)
        
        newBox.innerHTML=existingBox.innerHTML
        console.log(newBox)
        
        // append new div element to fuus-asutajad div
        var fuusAsutajad = document.querySelector("#fuus-asutajad");
        fuusAsutajad.appendChild(newBox);
        
    }
</script>
{%endblock%}